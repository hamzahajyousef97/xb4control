<div class="container" style="margin-top:10%" dir="rtl">
    <h2 class="text-center" style="margin-bottom:5%">المنتجات الصيفية</h2>
    <div class="row">
        <div class="col-xl-4 col-lg-6 col-md-6 col-sm-12" *ngFor="let summer of products; let i = index;">
            <div class="card center" style="width: 22rem;">
                <img class="card-img-top" src="{{summer.payload.doc.data().image}}" style="width: 100%; height: 225px !important;">
                <div class="card-body text-right">
                    <h5 class="card-title">اسم البيجامة: {{summer.payload.doc.data().nameAR}}</h5>
                    <p class="card-text">شرح البيجامة: {{summer.payload.doc.data().descriptionAR}}</p>
                    <div class="row">
                        <div class="col-md-5 col-xl-6 col-lg-6 col-12">
                            <a class="btn btn-success float-right text-center btn-block" [href]="[website + 'summers/' + summer.payload.doc.id]">عرض بالموقع</a>
                        </div>
                        <div class="col-md-5 col-xl-6 col-lg-6 col-12">
                            <a class="btn btn-warning btn-block" [routerLink]="['/edit-summer', summer.payload.doc.id]">تعديل</a>
                        </div>
                        <div class="col-md-12" style="margin-top: 3%">
                            <button class="btn btn-danger btn-block" (click)="basicModal.show()">حذف</button>
                        </div>
                    </div>
                </div>
            </div>
            <div mdbModal #basicModal="mdbModal" class="modal fade right" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel"aria-hidden="true">
                <div class="modal-dialog" dir="rtl" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            هل تريد حذف هذا المنتج ؟
                        </div>
                        <div class="modal-body">
                            <div class="col-md-7 center">
                                <button type="button"(click)="deleteProduct(summer.payload.doc.id); basicModal.hide()"  mdbBtn color="danger" class="relative waves-light" mdbWavesEffect>نعم</button>
                                <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="basicModal.hide()" mdbWavesEffect>إلغاء</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
        </div>
    </div>
</div>

<div style="margin-top:80px" *ngIf="errMess">
    <h3 class="arabic text-center">لقد حدث خطأ في الخادم اذهب الى <a routerLink="/">الصفحة الرئيسية</a></h3>
</div>
<div [hidden]="products || errMess">
    <mat-spinner class="center"></mat-spinner><h4 style="margin-top: 20px;" class="text-center">جاري التحميل انتظر قليلاً</h4>
</div>